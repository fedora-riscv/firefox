diff -up firefox-70.0/build/moz.configure/lto-pgo.configure.old firefox-70.0/build/moz.configure/lto-pgo.configure
--- firefox-70.0/build/moz.configure/lto-pgo.configure.old	2019-10-18 20:33:54.240107068 +0200
+++ firefox-70.0/build/moz.configure/lto-pgo.configure	2019-10-18 20:34:44.202009678 +0200
@@ -16,7 +16,7 @@ def pgo_flags(compiler, build_env, targe
 
     if compiler.type == 'gcc':
         return namespace(
-            gen_cflags=['-fprofile-generate'],
+            gen_cflags=['-fprofile-generate', '-DMOZ_PROFILE_INSTRUMENTATION'],
             gen_ldflags=['-fprofile-generate'],
             use_cflags=['-fprofile-use', '-fprofile-correction',
                         '-Wcoverage-mismatch'],
@@ -38,7 +38,7 @@ def pgo_flags(compiler, build_env, targe
             gen_ldflags = ['-fprofile-generate']
 
         return namespace(
-            gen_cflags=[prefix + '-fprofile-generate'],
+            gen_cflags=[prefix + '-fprofile-generate', '-DMOZ_PROFILE_INSTRUMENTATION'],
             gen_ldflags=gen_ldflags,
             use_cflags=[prefix + '-fprofile-use=%s' % profdata,
                         # Some error messages about mismatched profile data
